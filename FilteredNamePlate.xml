<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/..\FrameXML\UI.xsd">
<Script file="FilteredNamePlate.lua"/>
<Frame name="FilteredNamePlate_Frame" hidden="true" parent="UIParent" toplevel="true" movable="true" frameStrata="HIGH" enableMouse="true" enableKeyboard="true">
	<Size>
		<AbsDimension x="380" y="400" />
	</Size>
	<Anchors>
		<Anchor point="CENTER" />
	</Anchors>
	<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
		<BackgroundInsets>
			<AbsInset left="5" right="6" top="6" bottom="5" />
		</BackgroundInsets>
		<TileSize>
			<AbsValue val="32" />
		</TileSize>
		<EdgeSize>
			<AbsValue val="32" />
		</EdgeSize>
	</Backdrop>

	<Frames>
		<Button name="$parent_CloseIcon" inherits="OptionsButtonTemplate" text="X">
			<Size>
				<AbsDimension x="35" y="35" />
			</Size>
			<Anchors>
				<Anchor point="TOPRIGTH" relativeTo="$parent">
				<Offset>
					<AbsDimension x="330" y="-10" />
				</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnClick>
					FNP_ChangeFrameVisibility()
				</OnClick>
			</Scripts>
		</Button>
		<Button name="$parent_AdvOpenIcon" inherits="OptionsButtonTemplate" hidden="false" text="高级">
			<Size>
				<AbsDimension x="45" y="35" />
			</Size>
			<Anchors>
				<Anchor point="BOTTOMLEFT" relativeTo="$parent_CloseIcon">
				<Offset>
					<AbsDimension x="-10" y="-120" />
				</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnClick>
					FNP_ChangeFrameVisibility("adv")
				</OnClick>
			</Scripts>
		</Button>

		<CheckButton name="$parent_EnableCheckButton" inherits="OptionsCheckButtonTemplate">
			<Anchors>
				<Anchor point="TOPLEFT" relativeTo="$parent">
				<Offset>
					<AbsDimension x="30" y="-30" />
				</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnLoad>
				_G[self:GetName().."Text"]:SetText("启用(Enable)");
				</OnLoad>
				<OnClick>
				FNP_EnableButtonChecked(self, self:GetChecked())
				</OnClick>
			</Scripts>
		</CheckButton>

		<CheckButton name="$parent_TidyEnableCheckBtn" inherits="OptionsCheckButtonTemplate">
			<Anchors>
				<Anchor point="CENTER" relativeTo="$parent_EnableCheckButton" relativePoint="BOTTOMLEFT">
				<Offset>
					<AbsDimension x="0" y="-30" />
				</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnLoad>
				_G[self:GetName().."Text"]:SetText("TidyPlate");
				</OnLoad>
				<OnClick>
				FNP_TidyEnableCheckButtonChecked(self, self:GetChecked(), 1)
				</OnClick>
				<OnEnter>
					GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
					GameTooltip:SetText("如果你使用了TidyPlate，请勾选该项。");
				</OnEnter>
				<OnLeave>
					GameTooltip:Hide();
				</OnLeave>
			</Scripts>
		</CheckButton>
		<CheckButton name="$parent_KuiCheckBtn" inherits="OptionsCheckButtonTemplate">
			<Anchors>
				<Anchor point="TOPRIGHT" relativeTo="$parent_TidyEnableCheckBtn" relativePoint="TOPRIGHT">
				<Offset>
					<AbsDimension x="100" y="0" />
				</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnLoad>
				_G[self:GetName().."Text"]:SetText("Kui");
				</OnLoad>
				<OnClick>
				FNP_TidyEnableCheckButtonChecked(self, self:GetChecked(), 2)
				</OnClick>
				<OnEnter>
					GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
					GameTooltip:SetText("如果你使用了Kui_NamePlates，请勾选该项。");
				</OnEnter>
				<OnLeave>
					GameTooltip:Hide();
				</OnLeave>
			</Scripts>
		</CheckButton>
		<CheckButton name="$parent_OrgCheckBtn" inherits="OptionsCheckButtonTemplate">
			<Anchors>
				<Anchor point="TOPLEFT" relativeTo="$parent_KuiCheckBtn" relativePoint="TOPRIGHT">
				<Offset>
					<AbsDimension x="50" y="0" />
				</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnLoad>
				_G[self:GetName().."Text"]:SetText("原生");
				</OnLoad>
				<OnClick>
				FNP_TidyEnableCheckButtonChecked(self, self:GetChecked(), 0)
				</OnClick>
				<OnEnter>
					GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
					GameTooltip:SetText("如果你使用原生，大脚，有爱, 勾选此项。Origin。");
				</OnEnter>
				<OnLeave>
					GameTooltip:Hide();
				</OnLeave>
			</Scripts>
		</CheckButton>
		<CheckButton name="$parent_EUIRayBtn" inherits="OptionsCheckButtonTemplate">
			<Anchors>
				<Anchor point="TOPLEFT" relativeTo="$parent_OrgCheckBtn" relativePoint="TOPRIGHT">
				<Offset>
					<AbsDimension x="50" y="0" />
				</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnLoad>
				_G[self:GetName().."Text"]:SetText("EUI/RayUI");
				</OnLoad>
				<OnClick>
				FNP_TidyEnableCheckButtonChecked(self, self:GetChecked(), 3)
				</OnClick>
				<OnEnter>
					GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
					GameTooltip:SetText("EUI, RayUI勾选此项。EUI or RayUI。");
				</OnEnter>
				<OnLeave>
					GameTooltip:Hide();
				</OnLeave>
			</Scripts>
		</CheckButton>
		<CheckButton name="$parent_OnlyShowModeCheckBtn" inherits="OptionsCheckButtonTemplate">
			<Anchors>
				<Anchor point="TOPLEFT" relativeTo="$parent">
				<Offset>
					<AbsDimension x="30" y="-120" />
				</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnLoad>
				_G[self:GetName().."Text"]:SetText("仅显模式(OnlyShow Mode)");
				</OnLoad>
				<OnClick>
				FNP_ModeCheckButtonChecked("o", self:GetChecked())
				</OnClick>
				<OnEnter>
					GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
					GameTooltip:SetText("都不显示,只有仅显列表的才显示;如果周围不存在仅显列表的敌对单位,则全部显示");
				</OnEnter>
				<OnLeave>
					GameTooltip:Hide();
				</OnLeave>
			</Scripts>
		</CheckButton>

        <EditBox name="$parent_OnlyShowModeEditBox" letters="300" autoFocus="false" multiLine="true">
                <Layers>
                    <Layer level="BACKGROUND">
                        <Texture>
                            <Color r=".2" g=".2" b=".2" a="1"/>
                        </Texture>
                    </Layer>
                </Layers>
                <Size>
                    <AbsDimension x="200" y="60" />
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="$parent_OnlyShowModeCheckBtn" relativePoint="BOTTOMLEFT">
                        <Offset>
                            <AbsDimension x="0" y="0" />
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnEnterPressed>
                        self:ClearFocus();
						FNP_ModeEditBoxWriten("o", self:GetText())
                    </OnEnterPressed>
                    <OnEscapePressed>
                        self:ClearFocus();
						FNP_ModeEditBoxWritenEsc()
                    </OnEscapePressed>
                </Scripts>
                <FontString inherits="ChatFontNormal" />
        </EditBox>

		<CheckButton name="$parent_FilteredModeCheckBtn" inherits="OptionsCheckButtonTemplate">
			<Anchors>
				<Anchor point="CENTER" relativeTo="$parent_OnlyShowModeEditBox" relativePoint="BOTTOMLEFT">
				<Offset>
					<AbsDimension x="10" y="-30" />
				</Offset>
				</Anchor>
			</Anchors>
			<Scripts>
				<OnLoad>
				_G[self:GetName().."Text"]:SetText("过滤模式(Filtered Mode)");
				</OnLoad>
				<OnClick>
				FNP_ModeCheckButtonChecked("f", self:GetChecked())
				</OnClick>
				<OnEnter>
					GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
					GameTooltip:SetText("基本都显示, 只有过滤列表中的不显示");
				</OnEnter>
				<OnLeave>
					GameTooltip:Hide();
				</OnLeave>
			</Scripts>
		</CheckButton>

		<EditBox name="$parent_FilteredModeEditBox" letters="300" autoFocus="false" multiLine="true">
                <Layers>
                    <Layer level="BACKGROUND">
                        <Texture>
                            <Color r=".2" g=".2" b=".2" a="1"/>
                        </Texture>
                    </Layer>
                </Layers>
                <Size>
                    <AbsDimension x="200" y="60" />
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="$parent_FilteredModeCheckBtn" relativePoint="BOTTOMLEFT">
                        <Offset>
                            <AbsDimension x="0" y="0" />
                        </Offset>
                    </Anchor>
                </Anchors>
                <Scripts>
                    <OnEnterPressed>
                        self:ClearFocus();
						FNP_ModeEditBoxWriten("f", self:GetText())
                    </OnEnterPressed>
                    <OnEscapePressed>
                        self:ClearFocus();
						FNP_ModeEditBoxWritenEsc()
                    </OnEscapePressed>
                </Scripts>
                <FontString inherits="ChatFontNormal" />
        </EditBox>
		<Slider name="$parent_SystemScale" inherits="OptionsSliderTemplate">
			<Anchors>
                    <Anchor point="TOPLEFT" relativeTo="$parent_FilteredModeEditBox" relativePoint="BOTTOMLEFT">
                        <Offset>
                            <AbsDimension x="10" y="-40" />
                        </Offset>
                    </Anchor>
            </Anchors>
            <Scripts>
                   <OnLoad>
                      _G[self:GetName().."Text"]:SetText("默认缩放比例");
                      _G[self:GetName().."High"]:SetText("大 150%");
                      _G[self:GetName().."Low"]:SetText("小 40%");
                      self:SetMinMaxValues(40, 150);
                      self:SetValueStep(1);
                   </OnLoad>
                   <OnValueChanged>
                      _G[self:GetName().."Text"]:SetText("默认缩放比例".."("..string.format("%.0f", self:GetValue()).."%)");
					  <!-- FilteredNamePlate_AdvancedFrame_show_TextOnlyOther:SetText("OnyShow Exclude Scale".."("..string.format("%.0f", self:GetValue()).."%)");
					  -->
					  Fnp_SavedScaleList["system"] = string.format("%.2f", self:GetValue() / 100)
				   </OnValueChanged>
                   <OnEnter>
                      GameTooltip:SetOwner(self, "ANCHOR_RIGTH");
                      GameTooltip:SetText("默认缩放姓名板大小 Default Scale");
                   </OnEnter>
                   <OnLeave>
                      GameTooltip:Hide();
                   </OnLeave>
            </Scripts>
        </Slider>
	</Frames>
	<Layers>
		<Layer>
			<Texture name="$parent_Header" file="Interface\DialogFrame\UI-DialogBox-Header">
				<Size>
					<AbsDimension x="350" y="64" />
				</Size>
				<Anchors>
					<Anchor point="TOP">
						<Offset>
							<AbsDimension x="0" y="12" />
						</Offset>
					</Anchor>
				</Anchors>
			</Texture>
			<FontString name="$parent_Header_Text" inherits="GameFontNormal" text="过滤姓名板">
				<Anchors>
					<Anchor point="TOP" relativeTo="$parent_Header">
						<Offset>
							<AbsDimension x="0" y="-14" />
						</Offset>
					</Anchor>
				</Anchors>
			</FontString>
			<FontString name="$parent_note" inherits="GameFontNormal" text="列表框用英文的分号';'追加多个名字">
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativeTo="$parent">
						<Offset>
							<AbsDimension x="20" y="50" />
						</Offset>
					</Anchor>
				</Anchors>
			</FontString>
			<FontString name="$parent_AuthorText" inherits="GameFontNormal" text="作者:Allan 版本:7.2.5.20170620 V3">
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativeTo="$parent">
						<Offset>
							<AbsDimension x="20" y="25" />
						</Offset>
					</Anchor>
				</Anchors>
			</FontString>
			<FontString name="$parent_webText" inherits="GameFontNormal" text="http://bbs.nga.cn/read.php?tid=11817959">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parent_AuthorText" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
			</FontString>
		</Layer>
	</Layers>
	<Scripts>
		<OnLoad>
			FilteredNamePlate_OnLoad(self);
		</OnLoad>
		<OnEvent>
			FilteredNamePlate_OnEvent(self,event,...);
		</OnEvent>
	</Scripts>
</Frame>
</Ui>
